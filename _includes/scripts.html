<!-- Main JavaScript -->
<script src="{{ '/assets/js/main.js' | relative_url }}" defer></script>

<!-- Additional page-specific scripts -->
{% if page.scripts %}
  {% for script in page.scripts %}
    <script src="{{ script }}" {% if script contains 'defer' %}defer{% endif %}></script>
  {% endfor %}
{% endif %}

<!-- Google Analytics -->
{% if site.google_analytics %}
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '{{ site.google_analytics }}');
  </script>
{% endif %}

<!-- Disqus comments -->
{% if page.comments and site.disqus.shortname %}
  <script id="dsq-count-scr" src="//{{ site.disqus.shortname }}.disqus.com/count.js" async></script>
{% endif %}

<!-- MathJax -->
{% if page.mathjax %}
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
{% endif %}

<!-- Syntax highlighting -->
{% if page.syntax_highlighting %}
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/{{ site.highlight_theme | default: 'github' }}.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
{% endif %}

<!-- Custom head scripts -->
{{ page.head_scripts | default: '' }}
